# Tools

- `minikube`: minikube run Kubernetes cluster locally(single host). Education and Local development.

  - create a `virtual box` in host
  - create/run nodes in the virtual box

```bash
# install https://minikube.sigs.k8s.io/docs/start/
minikube start # create a cluster
minikube status # check cluster running status
minikube ip # ip address that minikube run
```

## ctls

- `API Server` tools

  - `kubectl`: The Kubernetes command-line tool.
  - APIs
  - kubernete Dashboard(GUI)

- `containerd` tools

  - `nerdctl`: community made, provide all docker UX for containerd.
  - ctr (not much used): come with containerd, very limit function, main usage is debug containerd

- Kubernetes CRI tool
  - [crictl](https://kubernetes.io/docs/tasks/debug/debug-cluster/crictl/): (not much used) main usage is debug container runtime

### Tldr

- I would use
  - kubectl for k8s admin tasks
  - nerdctl for general container tasks, with usage like docker ctl
  - crictl

# nerdctl

- You can basically use nerdctl by replacing Docker commands' `docker` with `nerdctl`

# kubectl

#### **deployment**

- ConfigMap and Secret must exist before deployments

  - **kubectl apply** manages applications through files that defining k8s resource

- [kubectl cheatsheet](https://kubernetes.io/docs/reference/kubectl/cheatsheet/)

```bash
kubectl apply -f mongo-config.yaml
kubectl apply -f mongo-secret.yaml

## deploy database service
kubectl apply -f mongo.yaml

## deploy application service
kubectl apply -f webapp.yaml

## get basic info about k8s components
kubectl get node
kubectl get pod
kubectl get svc  # service
kubectl get all

## get extended info about components
kubectl get pod -o wide
kubectl get node -o wide

## get detailed info about a specific component
kubectl describe svc {svc-name}
kubectl describe pod {pod-name}

## get application logs
kubectl logs {pod-name}

## stop your Minikube cluster
minikube stop

# List information about a resource with more details:
kubectl get pod|service|deployment|ingress|... -o wide

# Update specified pod with the label 'unhealthy' and the value 'true':
kubectl label pods name unhealthy=true

# List all resources with different types:
kubectl get all

# Display resource (CPU/Memory/Storage) usage of nodes or pods:
kubectl top pod|node

# Print the address of the master and cluster services:
kubectl cluster-info

# Display an explanation of a specific field:
kubectl explain pods.spec.containers

# Print the logs for a container in a pod or specified resource:
kubectl logs pod_name

# Run command in an existing pod:
kubectl exec pod_name -- ls /
```
